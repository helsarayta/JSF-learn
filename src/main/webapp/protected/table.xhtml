<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="../index.xhtml">


	<ui:define name="content">
		<h:form id="form">

			<p:panel header="Form Student" toggleable="true" closable="true"
				toggleSpeed="500" closeSpeed="500" widgetVar="panelForm">
				<p:panelGrid columns="2" style="width:40rem">
					<p:outputLabel value="Student Name " style="width:20%" />
					<p:inputText value="#{studentForm.vo.name}" style="width:80%" />
					<p:outputLabel value="Student Address " style="width:20%" />
					<p:inputText value="#{studentForm.vo.address}" style="width:80%" />
					
					<p:commandButton value="Submit" process="@form"
						update="@form, studentTable" action="#{studentForm.saveStudent}"
						style="width:30%"/>
					<p:commandButton value="Reset" process="@form"
						update="@form" action="#{studentForm.resetForm}"
						style="width:30%" />
				</p:panelGrid>
				<f:facet name="options">
					<p:menu>
						<p:submenu label="Settings">
							<p:menuitem value="Toggle" url="#" icon="pi pi-clone"
								onclick="PF('panelForm').toggle()" />
							<p:menuitem value="Remove" url="#" icon="pi pi-times"
								onclick="PF('panelForm').close()" />
						</p:submenu>
					</p:menu>
				</f:facet>
			</p:panel>
			
			<p:panel header="Search Student" toggleable="true" closable="true"
				toggleSpeed="500" closeSpeed="500" widgetVar="panelSearch">
				<p:panelGrid columns="2" style="width:40rem">
					<p:outputLabel value="Student Name " style="width:20%" />
					<p:inputText value="#{studentForm.vo.name}" style="width:80%" />
					<p:outputLabel value="Student Address " style="width:20%" />
					<p:inputText value="#{studentForm.vo.address}" style="width:80%" />
					
					<p:commandButton value="Search" process="@form"
						update="studentTable" action="#{studentForm.searchStudent}"
						style="width:30%"/>
					<p:commandButton value="Reset" process="@form"
						update="@form" action="#{studentForm.resetForm}"
						style="width:30%" />
				</p:panelGrid>
				<f:facet name="options">
					<p:menu>
						<p:submenu label="Settings">
							<p:menuitem value="Toggle" url="#" icon="pi pi-clone"
								onclick="PF('panelSearch').toggle()" />
							<p:menuitem value="Remove" url="#" icon="pi pi-times"
								onclick="PF('panelSearch').close()" />
						</p:submenu>
					</p:menu>
				</f:facet>
			</p:panel>

			<p:panel header="Table Student" toggleable="true" closable="true"
				toggleSpeed="500" closeSpeed="500" widgetVar="panel">

				<p:dataTable var="student" value="#{studentForm.listStd}"
					paginator="true" rows="10" paginatorPosition="bottom"
					paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
					rowsPerPageTemplate="5,10,15" id="studentTable">

					<p:column headerText="Student ID" sortBy="#{student.id}"
						filterBy="#{student.id}">
						<h:outputText value="#{student.id}" />
					</p:column>
					<p:column headerText="Name" sortBy="#{student.name}"
						filterBy="#{student.name}">
						<h:outputText style="vertical-align: middle; margin-left: .5rem"
							value="#{student.name}" />
					</p:column>
					<p:column headerText="Address" sortBy="#{student.address}"
						filterBy="#{student.address}">
						<h:outputText style="vertical-align: middle; margin-left: .5rem"
							value="#{student.address}" />
					</p:column>
					<p:column headerText="Action">
						<p:commandButton value="edit" style="width:5rem" process="@form" update="@form" action="#{studentForm.editStudent(student)}"/>
						<br />
						<p:commandButton value="delete" styleClass="ui-button-danger" process="@form" update="@form"
							action="#{studentForm.deleteStudent(student)}"
							style="width:5rem" />
					</p:column>
				</p:dataTable>

				<f:facet name="options">
					<p:menu>
						<p:submenu label="Settings">
							<p:menuitem value="Toggle" url="#" icon="pi pi-clone"
								onclick="PF('panel').toggle()" />
							<p:menuitem value="Remove" url="#" icon="pi pi-times"
								onclick="PF('panel').close()" />
						</p:submenu>
					</p:menu>
				</f:facet>
			</p:panel>



		</h:form>
	</ui:define>
</ui:composition>

